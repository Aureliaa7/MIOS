@model PaginatedList<MusicalInstrumentsShop.BusinessLogic.DTOs.ProductDto>

@{
    ViewData["Title"] = "Browse";
    if (User.IsInRole("Customer"))
    {
        Layout = "~/Views/Shared/_CustomerLayout.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/_Layout.cshtml";
    }
}

<h3 class="text-center text-white">Products</h3>


<div class="container text-center" style="justify-content:center">
    <div class="row">
        @{ foreach (var item in Model)
            {
                <div class="col-md-3" style="margin:40px">

                    <div class="card">
                        <div class="card-image">
                            <div class="carousel slide" data-ride="carousel" id="product-carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img src="~/images/products/@item.Photos.ElementAt(0).Name" class="d-block w-100" alt="...">
                                    </div>
                                    @{ for (int contor = 1; contor < item.Photos.Count(); contor++)
                                        {
                                            <div class="carousel-item">
                                                <img src="~/images/products/" class="d-block w-100" alt="...">
                                            </div>
                                        }
                                    }
                                </div>
                                <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Previous</span>
                                </a>
                                <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                    <span class="sr-only">Next</span>
                                </a>
                            </div>
                        </div>

                        <div class="card-content">
                            <b> @Html.DisplayNameFor(modelItem => item.Name): </b>
                            @Html.DisplayFor(modelItem => item.Name)<br />

                            <b> @Html.DisplayNameFor(modelItem => item.Price): </b>
                            @Html.DisplayFor(modelItem => item.Price)<br />

                            <b> @Html.DisplayNameFor(modelItem => item.Description): </b>
                            @Html.DisplayFor(modelItem => item.Description)<br />

                            <b>@Html.DisplayNameFor(modelItem => item.CategoryName): </b>
                            @Html.DisplayFor(modelItem => item.CategoryName)<br />

                            <b>@Html.DisplayNameFor(modelItem => item.SupplierName): </b>
                            @Html.DisplayFor(modelItem => item.SupplierName)<br />
                        </div>

                        <div class="card-footer">
                            <a asp-action="Details" asp-route-id="@item.Id">Details</a> |
                            <a asp-controller="" asp-action="" asp-route-id="@item.Id">Add to cart</a> |
                            <a asp-controller="" asp-action="" asp-route-id="@item.Id">Add to wishlist</a>
                        </div>
                    </div>
                </div>
            }
        }
    </div>
</div>

@{
    var prevDisabled = !Model.HasPreviousPage ? "disabled" : "";
    var nextDisabled = !Model.HasNextPage ? "disabled" : "";
}

<a asp-action="Browse"
   asp-route-pageNumber="@(Model.PageIndex - 1)"
   class="btn btn-primary @prevDisabled">
    Previous
</a>
<a asp-action="Browse"
   asp-route-pageNumber="@(Model.PageIndex + 1)"
   class="btn btn-primary @nextDisabled">
    Next
</a>